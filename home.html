<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>Web share test</title>
    <style>

    </style>
</head>
<body>
<h1>Lavesh RoXXX</h1>
<img src="https://via.placeholder.com/300/09f/fff.png"
     style="-webkit-user-select: none;max-width: 100%;margin: auto;">

<p>
    <button>Share MDN!</button>
</p>

<p class="result"></p>

<script>
  let url = "https://via.placeholder.com/300/09f/fff.png",
  
  const imageShareFn = () => {
    fetch(shareData.url, { mode: 'no-cors'}).then(function (response) {
      return response.blob()
    }).then(function (blob) {

      let file = new File([blob], "picture.jpg", {type: 'image/jpeg'});
      let filesArray = [file];

      if (navigator.canShare && navigator.canShare({files: filesArray})) {
        navigator.share({
          title: 'Ashish share a file',
          files: filesArray,
          text: 'Learn web development on MDN!',
          url: "https://via.placeholder.com/300/09f/fff.png",
        });
      }
    })
  };


  const btn = document.querySelector('button');
  const imgBtn = document.querySelector('img');

  const resultPara = document.querySelector('.result');

  btn.addEventListener('click', imageShareFn);
  imgBtn.addEventListener('click', imageShareFn);

</script>
</body>
</html>
