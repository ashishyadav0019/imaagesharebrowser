<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>Web share test</title>
    <style>

    </style>
</head>
<body>
<h1>Lavesh RoXXX</h1>
<img src="https://hbomax-images.warnermediacdn.com/images/GXozhGwOz77DCYwEAABBA/tileburnedin?size=400x230&amp;format=jpeg&amp;partner=hbomaxcom&amp;productCode=hbomax&amp;host=artist.api.cdn.hbo.com&amp;w=400"
     style="-webkit-user-select: none;max-width: 100%;margin: auto;">

<p>
    <button>Share MDN!</button>
</p>

<p class="result"></p>

<script>
  let shareData = {
    title: 'Ashish',
    text: 'Learn web development on MDN!',
    url: "https://hbomax-images.warnermediacdn.com/images/GXozhGwOz77DCYwEAABBA/tileburnedin?size=1280x720&format=jpeg&partner=hbomaxcom&productCode=hbomax&host=artist.api.cdn.hbo.com&w=1280",
  }
  const imageShareFn = () => {
    fetch(shareData.url).then(function (response) {
      return response.blob()
    }).then(function (blob) {

      var file = new File([blob], "picture.jpg", {type: 'image/jpeg'});
      var filesArray = [file];

      if (navigator.canShare && navigator.canShare({files: filesArray})) {
        navigator.share({
          text: 'we will rok u',
          files: filesArray,
          title: 'some_title',
          url: 'some_url'
        });
      }
    })
  };


  const btn = document.querySelector('button');
  const imgBtn = document.querySelector('img');

  const resultPara = document.querySelector('.result');

  btn.addEventListener('click', imageShareFn);
  imgBtn.addEventListener('click', imageShareFn);

</script>
</body>
</html>
